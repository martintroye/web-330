<!--
============================================
; Title: Exercise 4.3
; Author: Troy Martin
; Date: 05/10/2019
; Modified By: Troy Martin
; Description: HTTP PUT and DELETE Operations
;===========================================
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- include the bootstrap css, google fonts used on the page -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,700|Source+Code+Pro:400,700" rel="stylesheet">
    <!-- custom css for the page -->
    <style>
      html{
        font-size: 16px;
      }

      body{
        font-family: 'Source Code Pro', 'sans-serif', 'Arial', 'Tahoma', 'Veranda';
      }

      .jumbotron{
        margin-top:1.5rem;
      }
    </style>

    <title>Exercise 4.3</title>

  </head>
  <body>
    <div role="main" class="container">
      <div class="row col jumbotron">
          <button id="btnDelete" class="btn btn-danger">Delete</button>
      </div>
    </div>

    <!-- jQuery reference -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      // jQuery ready function
      $(function() {

        // Use a jQuery selector to set the click event of the button
        $("#btnDelete").on("click", function(){
          // ajax DELETE
          $.ajax({
            url: "http://httpbin.org/delete",
            dataType: "json",
            type: "DELETE",
            // Set the data on the request
            data: {name: "Troy Martin", assignment: "Exercise 4.3", date: new Date().toLocaleDateString()},
            // set the success callback function
            success: function (data, status) {
              // Call the console log function and output the data
              console.log(`Name: ${data.form.name} \nAssignment: ${data.form.assignment} \nDate: ${data.form.date} \nStatus: ${status}`);
            },
            // set the error callback function
            error: function(xhr, status, error){
              // Call the console log to output the error
              console.log(error);
            }
          })
        })

      });
    </script>
  </body>
</html>
